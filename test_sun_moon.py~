   


from skyfield.api import load
from skyfield.api import Topos
import matplotlib.pyplot as plt


planets = load('de421.bsp')
earth, moon, sun = planets['earth'], planets['moon'], planets['sun']

ts = load.timescale()
#t = ts.now()
t = ts.utc(2020, 12, 14, 16, 9, range(-600, 600))



#obs_location = earth + Topos('39.88835 S', '69.87581 W')  
obs_location = earth + Topos('39.84835 S', '69.87581 W')  



m = obs_location.at(t).observe(moon)
s = obs_location.at(t).observe(sun)

y = m.separation_from(s)

#print(y.degrees)

plt.grid()
plt.plot(t.tt, y.degrees)
plt.show()


